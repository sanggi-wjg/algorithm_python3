from itertools import permutations

N, M = map(int, input().split())
data = list(map(int, input().split()))
data.sort()

data = permutations(data, M)

for i, item in enumerate(data):
    # print(i + 1, end = '\t')
    for d in item:
        print(d, end = ' ')
    print()

"""
3 1
4 5 2

2
4
5
-----------------------------
4 2
9 8 7 1

1 7
1 8
1 9
7 1
7 8
7 9
8 1
8 7
8 9
9 1
9 7
9 8
-----------------------------
4 4
1231 1232 1233 1234

1  1231 1232 1233 1234
2  1231 1232 1234 1233
3  1231 1233 1232 1234
4  1231 1233 1234 1232
5  1231 1234 1232 1233
6  1231 1234 1233 1232
7  1232 1231 1233 1234
8  1232 1231 1234 1233
9  1232 1233 1231 1234
10 1232 1233 1234 1231
11 1232 1234 1231 1233
12 1232 1234 1233 1231
13 1233 1231 1232 1234
14 1233 1231 1234 1232
15 1233 1232 1231 1234
16 1233 1232 1234 1231
17 1233 1234 1231 1232
18 1233 1234 1232 1231
19 1234 1231 1232 1233
20 1234 1231 1233 1232
21 1234 1232 1231 1233
22 1234 1232 1233 1231
23 1234 1233 1231 1232
24 1234 1233 1232 1231
"""
